{
  "name": "Document Processing Workflow",
  "description": "A comprehensive workflow for processing documents with file upload, review, consolidation, and approval steps",
  "triggerType": "MANUAL",
  "reminderBeforeDueMins": 30,
  "minutesAfterDue": 15,
  "escalationAfterMins": 60,
  "isActive": "Y",
  "createdBy": "admin",
  "workflowRoles": [
    {
      "roleId": 1,
      "userId": 1,
      "isActive": "Y"
    },
    {
      "roleId": 1,
      "userId": 2,
      "isActive": "Y"
    },
    {
      "roleId": 2,
      "userId": 3,
      "isActive": "Y"
    },
    {
      "roleId": 2,
      "userId": 4,
      "isActive": "Y"
    },
    {
      "roleId": 3,
      "userId": 5,
      "isActive": "Y"
    }
  ],
  "tasks": [
    {
      "taskSequence": 1,
      "name": "Upload Initial Documents",
      "taskDescription": "Upload the initial set of documents for processing",
      "taskType": "FILE_UPLOAD",
      "roleId": 1,
      "sequenceOrder": 1,
      "expectedCompletion": 60,
      "escalationRules": "Escalate to team lead if not completed within 2 hours",
      "fileRetentionDays": 30,
      "taskFiles": [
        {
          "fileSequence": 1,
          "fileName": "Financial_Report.xlsx",
          "fileTypeRegex": "*.xlsx",
          "actionType": "UPLOAD",
          "fileDescription": "Main financial report document",
          "isRequired": "Y",
          "fileStatus": "PENDING",
          "keepFileVersions": "Y",
          "keepFileHistory": "Y",
          "retainForCurrentPeriod": "Y",
          "fileCommentary": "Primary financial data for the quarter"
        },
        {
          "fileSequence": 2,
          "fileName": "Supporting_Data.xlsx",
          "fileTypeRegex": "*.xlsx",
          "actionType": "UPLOAD",
          "fileDescription": "Supporting financial data",
          "isRequired": "Y",
          "fileStatus": "PENDING",
          "keepFileVersions": "Y",
          "keepFileHistory": "Y",
          "retainForCurrentPeriod": "Y",
          "fileCommentary": "Supporting data for financial analysis"
        },
        {
          "fileSequence": 3,
          "fileName": "Reference_Document.pdf",
          "fileTypeRegex": "*.pdf",
          "actionType": "UPLOAD",
          "fileDescription": "Reference documentation",
          "isRequired": "Y",
          "fileStatus": "PENDING",
          "keepFileVersions": "Y",
          "keepFileHistory": "Y",
          "retainForCurrentPeriod": "Y",
          "fileCommentary": "Reference material for validation"
        }
      ]
    },
    {
      "taskSequence": 2,
      "name": "Review and Update Financial Data",
      "taskDescription": "Review and update the financial documents with corrections",
      "taskType": "FILE_UPDATE",
      "roleId": 2,
      "sequenceOrder": 2,
      "expectedCompletion": 45,
      "escalationRules": "Escalate to senior reviewer if not completed within 1.5 hours",
      "fileRetentionDays": 30,
      "parentTaskSequences": [1],
      "taskFiles": [
        {
          "fileSequence": 4,
          "fileName": "Financial_Report_Reviewed.xlsx",
          "fileTypeRegex": "*.xlsx",
          "actionType": "UPDATE",
          "fileDescription": "Reviewed and updated financial report",
          "isRequired": "Y",
          "fileStatus": "PENDING",
          "keepFileVersions": "Y",
          "keepFileHistory": "Y",
          "retainForCurrentPeriod": "Y",
          "updateOfFileSequence": 1,
          "fileCommentary": "Financial report with corrections and validations",
          "dependencies": [
            {
              "fileSequence": 4,
              "parentFileSequence": 1,
              "createdBy": "admin"
            }
          ]
        },
        {
          "fileSequence": 5,
          "fileName": "Reference_Document_Updated.pdf",
          "fileTypeRegex": "*.pdf",
          "actionType": "UPDATE",
          "fileDescription": "Updated reference documentation",
          "isRequired": "Y",
          "fileStatus": "PENDING",
          "keepFileVersions": "Y",
          "keepFileHistory": "Y",
          "retainForCurrentPeriod": "Y",
          "updateOfFileSequence": 3,
          "fileCommentary": "Updated reference material with corrections",
          "dependencies": [
            {
              "fileSequence": 5,
              "parentFileSequence": 3,
              "createdBy": "admin"
            }
          ]
        }
      ]
    },
    {
      "taskSequence": 3,
      "name": "Process Supporting Data",
      "taskDescription": "Process and update the supporting data with additional analysis",
      "taskType": "FILE_UPDATE",
      "roleId": 2,
      "sequenceOrder": 3,
      "expectedCompletion": 30,
      "escalationRules": "Escalate to team lead if not completed within 1 hour",
      "fileRetentionDays": 30,
      "parentTaskSequences": [1],
      "taskFiles": [
        {
          "fileSequence": 6,
          "fileName": "Supporting_Data_Processed.xlsx",
          "fileTypeRegex": "*.xlsx",
          "actionType": "UPDATE",
          "fileDescription": "Processed supporting data with analysis",
          "isRequired": "Y",
          "fileStatus": "PENDING",
          "keepFileVersions": "Y",
          "keepFileHistory": "Y",
          "retainForCurrentPeriod": "Y",
          "updateOfFileSequence": 2,
          "fileCommentary": "Supporting data with additional processing and analysis",
          "dependencies": [
            {
              "fileSequence": 6,
              "parentFileSequence": 2,
              "createdBy": "admin"
            }
          ]
        }
      ]
    },
    {
      "taskSequence": 4,
      "name": "Consolidate Final Report",
      "taskDescription": "Consolidate all processed documents into a comprehensive final report",
      "taskType": "CONSOLIDATE_FILES",
      "roleId": 2,
      "sequenceOrder": 4,
      "expectedCompletion": 90,
      "escalationRules": "Escalate to manager if not completed within 3 hours",
      "consolidationMode": "MANUAL",
      "fileSelectionStrategy": "USER_SELECT",
      "maxFileSelections": 5,
      "minFileSelections": 3,
      "fileRetentionDays": 60,
      "parentTaskSequences": [2, 3],
      "taskFiles": [
        {
          "fileSequence": 7,
          "fileName": "Final_Consolidated_Report.xlsx",
          "fileTypeRegex": "*.xlsx",
          "actionType": "CONSOLIDATE",
          "fileDescription": "Final consolidated report combining all processed documents",
          "isRequired": "Y",
          "fileStatus": "PENDING",
          "keepFileVersions": "Y",
          "keepFileHistory": "Y",
          "retainForCurrentPeriod": "Y",
          "consolidatedFrom": [1, 4, 5, 6],
          "fileCommentary": "Final consolidated report ready for approval",
          "dependencies": [
            {
              "fileSequence": 7,
              "parentFileSequence": 1,
              "createdBy": "admin"
            },
            {
              "fileSequence": 7,
              "parentFileSequence": 4,
              "createdBy": "admin"
            },
            {
              "fileSequence": 7,
              "parentFileSequence": 5,
              "createdBy": "admin"
            },
            {
              "fileSequence": 7,
              "parentFileSequence": 6,
              "createdBy": "admin"
            }
          ]
        }
      ]
    },
    {
      "taskSequence": 5,
      "name": "Quality Approval Decision",
      "taskDescription": "Make final quality approval decision based on consolidated report",
      "taskType": "DECISION",
      "roleId": 3,
      "sequenceOrder": 5,
      "expectedCompletion": 30,
      "escalationRules": "Escalate to director if not completed within 1 hour",
      "isDecisionTask": "Y",
      "decisionType": "MULTI_CHOICE",
      "decisionRequiresApproval": "Y",
          "decisionApprovalRoleId": 3,
      "revisionStrategy": "SELECTIVE",
      "taskPriority": "HIGH",
      "autoEscalationEnabled": "Y",
      "notificationRequired": "Y",
      "fileRetentionDays": 90,
      "parentTaskSequences": [4],
      "taskFiles": [
        {
          "fileSequence": 8,
          "fileName": "Approval_Decision_Report.xlsx",
          "fileTypeRegex": "*.xlsx",
          "actionType": "UPLOAD",
          "fileDescription": "Decision report based on consolidated document",
          "isRequired": "N",
          "fileStatus": "PENDING",
          "keepFileVersions": "Y",
          "keepFileHistory": "Y",
          "retainForCurrentPeriod": "Y",
          "fromTaskSequence": 4,
          "fileCommentary": "Decision report based on consolidated file from step 4",
          "dependencies": [
            {
              "fileSequence": 8,
              "parentFileSequence": 7,
              "createdBy": "admin"
            }
          ]
        }
      ],
      "decisionOutcomes": [
        {
          "outcomeName": "Resubmit Document Preparation",
          "targetTaskSequence": 1,
          "revisionType": "SINGLE",
          "revisionTaskSequences": [1],
          "revisionStrategy": "REPLACE",
          "revisionPriority": 1,
          "revisionConditions": "Initial documents need to be re-uploaded with corrections",
          "autoEscalate": "N",
          "createdBy": "admin"
        },
        {
          "outcomeName": "Resubmit Financial Review",
          "targetTaskSequence": 2,
          "revisionType": "SINGLE",
          "revisionTaskSequences": [2],
          "revisionStrategy": "REPLACE",
          "revisionPriority": 2,
          "revisionConditions": "Financial review needs corrections",
          "autoEscalate": "N",
          "createdBy": "admin"
        },
        {
          "outcomeName": "Resubmit Data Processing",
          "targetTaskSequence": 3,
          "revisionType": "SINGLE",
          "revisionTaskSequences": [3],
          "revisionStrategy": "REPLACE",
          "revisionPriority": 3,
          "revisionConditions": "Data processing needs corrections",
          "autoEscalate": "N",
          "createdBy": "admin"
        },
        {
          "outcomeName": "Resubmit Consolidation",
          "targetTaskSequence": 4,
          "revisionType": "SINGLE",
          "revisionTaskSequences": [4],
          "revisionStrategy": "REPLACE",
          "revisionPriority": 4,
          "revisionConditions": "Consolidation needs to be redone",
          "autoEscalate": "N",
          "createdBy": "admin"
        },
        {
          "outcomeName": "Approve and Complete",
          "targetTaskSequence": null,
          "revisionType": "SINGLE",
          "revisionTaskSequences": [],
          "revisionStrategy": "REPLACE",
          "revisionPriority": 5,
          "revisionConditions": "All documents and consolidation are satisfactory",
          "autoEscalate": "N",
          "createdBy": "admin"
        }
      ]
    }
  ]
}
