-- =====================================================
-- WORKFLOW MANAGEMENT SYSTEM - SAMPLE DATA (H2 Database)
-- =====================================================

------------------------------------------------------------
-- USERS
------------------------------------------------------------
INSERT INTO WORKFLOW_USER (USER_ID, USERNAME, FIRST_NAME, LAST_NAME, EMAIL, ESCALATION_TO, IS_ACTIVE, CREATED_BY, CREATED_ON)
VALUES (1, 'alice', 'Alice', 'Smith', 'alice@example.com', NULL, 'Y', 'system', CURRENT_TIMESTAMP);

INSERT INTO WORKFLOW_USER (USER_ID, USERNAME, FIRST_NAME, LAST_NAME, EMAIL, ESCALATION_TO, IS_ACTIVE, CREATED_BY, CREATED_ON)
VALUES (2, 'bob', 'Bob', 'Johnson', 'bob@example.com', 1, 'Y', 'system', CURRENT_TIMESTAMP);

INSERT INTO WORKFLOW_USER (USER_ID, USERNAME, FIRST_NAME, LAST_NAME, EMAIL, ESCALATION_TO, IS_ACTIVE, CREATED_BY, CREATED_ON)
VALUES (3, 'carol', 'Carol', 'Williams', 'carol@example.com', 2, 'Y', 'system', CURRENT_TIMESTAMP);

INSERT INTO WORKFLOW_USER (USER_ID, USERNAME, FIRST_NAME, LAST_NAME, EMAIL, ESCALATION_TO, IS_ACTIVE, CREATED_BY, CREATED_ON)
VALUES (4, 'david', 'David', 'Brown', 'david@example.com', 3, 'Y', 'system', CURRENT_TIMESTAMP);

INSERT INTO WORKFLOW_USER (USER_ID, USERNAME, FIRST_NAME, LAST_NAME, EMAIL, ESCALATION_TO, IS_ACTIVE, CREATED_BY, CREATED_ON)
VALUES (5, 'eve', 'Eve', 'Davis', 'eve@example.com', 4, 'Y', 'system', CURRENT_TIMESTAMP);

------------------------------------------------------------
-- ROLES
------------------------------------------------------------
INSERT INTO WORKFLOW_ROLE (ROLE_ID, ROLE_NAME, IS_ACTIVE, CREATED_BY, CREATED_ON)
VALUES (1, 'Preparer', 'Y', 'system', CURRENT_TIMESTAMP);
INSERT INTO WORKFLOW_ROLE (ROLE_ID, ROLE_NAME, IS_ACTIVE, CREATED_BY, CREATED_ON)
VALUES (2, 'Reviewer', 'Y', 'system', CURRENT_TIMESTAMP);
INSERT INTO WORKFLOW_ROLE (ROLE_ID, ROLE_NAME, IS_ACTIVE, CREATED_BY, CREATED_ON)
VALUES (3, 'Approver', 'Y', 'system', CURRENT_TIMESTAMP);
INSERT INTO WORKFLOW_ROLE (ROLE_ID, ROLE_NAME, IS_ACTIVE, CREATED_BY, CREATED_ON)
VALUES (4, 'Auditor', 'Y', 'system', CURRENT_TIMESTAMP);

------------------------------------------------------------
-- WORKFLOW CONFIGS
------------------------------------------------------------
INSERT INTO WORKFLOW_CONFIG (WORKFLOW_ID, NAME, DESCRIPTION, REMINDER_BEFORE_DUE_MINS, MINUTES_AFTER_DUE, ESCALATION_AFTER_MINS, DUE_IN_MINS, IS_ACTIVE, CREATED_BY, CREATED_ON)
VALUES (1, 'Monthly Finance Workflow', 'Finance reporting workflow', 15, 10, 30, 120, 'Y', 'system', CURRENT_TIMESTAMP);

INSERT INTO WORKFLOW_CONFIG (WORKFLOW_ID, NAME, DESCRIPTION, REMINDER_BEFORE_DUE_MINS, MINUTES_AFTER_DUE, ESCALATION_AFTER_MINS, DUE_IN_MINS, IS_ACTIVE, CREATED_BY, CREATED_ON)
VALUES (2, 'Quarterly Audit Workflow', 'Audit workflow for quarterly reports', 20, 15, 60, 240, 'Y', 'system', CURRENT_TIMESTAMP);

------------------------------------------------------------
-- WORKFLOW CONFIG ROLES
------------------------------------------------------------
-- Workflow 1 roles
INSERT INTO WORKFLOW_CONFIG_ROLE (ID, WORKFLOW_ID, ROLE_ID, USER_ID, IS_ACTIVE)
VALUES (1, 1, 1, 1, 'Y'); -- Preparer Alice
INSERT INTO WORKFLOW_CONFIG_ROLE (ID, WORKFLOW_ID, ROLE_ID, USER_ID, IS_ACTIVE)
VALUES (2, 1, 2, 2, 'Y'); -- Reviewer Bob
INSERT INTO WORKFLOW_CONFIG_ROLE (ID, WORKFLOW_ID, ROLE_ID, USER_ID, IS_ACTIVE)
VALUES (3, 1, 3, 3, 'Y'); -- Approver Carol

-- Workflow 2 roles
INSERT INTO WORKFLOW_CONFIG_ROLE (ID, WORKFLOW_ID, ROLE_ID, USER_ID, IS_ACTIVE)
VALUES (4, 2, 1, 4, 'Y'); -- Preparer David
INSERT INTO WORKFLOW_CONFIG_ROLE (ID, WORKFLOW_ID, ROLE_ID, USER_ID, IS_ACTIVE)
VALUES (5, 2, 2, 5, 'Y'); -- Reviewer Eve
INSERT INTO WORKFLOW_CONFIG_ROLE (ID, WORKFLOW_ID, ROLE_ID, USER_ID, IS_ACTIVE)
VALUES (6, 2, 4, 3, 'Y'); -- Auditor Carol

------------------------------------------------------------
-- WORKFLOW CONFIG TASKS
------------------------------------------------------------
-- Workflow 1 Tasks
INSERT INTO WORKFLOW_CONFIG_TASK (TASK_ID, WORKFLOW_ID, NAME, TASK_TYPE, ROLE_ID, SEQUENCE_ORDER)
VALUES (1, 1, 'Upload Raw Data', 'FILE_UPLOAD', 1, 1);

INSERT INTO WORKFLOW_CONFIG_TASK (TASK_ID, WORKFLOW_ID, NAME, TASK_TYPE, ROLE_ID, SEQUENCE_ORDER)
VALUES (2, 1, 'Review Data', 'FILE_UPDATE', 2, 2);

INSERT INTO WORKFLOW_CONFIG_TASK (TASK_ID, WORKFLOW_ID, NAME, TASK_TYPE, ROLE_ID, SEQUENCE_ORDER)
VALUES (3, 1, 'Consolidate Report', 'CONSOLIDATE_FILES', 2, 3);

INSERT INTO WORKFLOW_CONFIG_TASK (TASK_ID, WORKFLOW_ID, NAME, TASK_TYPE, ROLE_ID, SEQUENCE_ORDER)
VALUES (4, 1, 'Approval Decision', 'DECISION', 3, 4);

-- Workflow 2 Tasks
INSERT INTO WORKFLOW_CONFIG_TASK (TASK_ID, WORKFLOW_ID, NAME, TASK_TYPE, ROLE_ID, SEQUENCE_ORDER)
VALUES (5, 2, 'Upload Audit Files', 'FILE_UPLOAD', 4, 1);

INSERT INTO WORKFLOW_CONFIG_TASK (TASK_ID, WORKFLOW_ID, NAME, TASK_TYPE, ROLE_ID, SEQUENCE_ORDER)
VALUES (6, 2, 'Review Audit Data', 'FILE_UPDATE', 5, 2);

INSERT INTO WORKFLOW_CONFIG_TASK (TASK_ID, WORKFLOW_ID, NAME, TASK_TYPE, ROLE_ID, SEQUENCE_ORDER)
VALUES (7, 2, 'Audit Decision', 'DECISION', 3, 3);

------------------------------------------------------------
-- WORKFLOW CONFIG TASK FILES
------------------------------------------------------------
-- Workflow 1
INSERT INTO WORKFLOW_CONFIG_TASK_FILE (FILE_ID, TASK_ID, FILE_NAME, FILE_PATH, ACTION_TYPE, CREATED_BY, CREATED_AT)
VALUES (1, 1, 'raw_july.xlsx', '/data/uploads/', 'FILE_UPLOAD', 'system', CURRENT_TIMESTAMP);

INSERT INTO WORKFLOW_CONFIG_TASK_FILE (FILE_ID, TASK_ID, FILE_NAME, FILE_PATH, ACTION_TYPE, PARENT_FILE_ID, CREATED_BY, CREATED_AT)
VALUES (2, 2, 'raw_july_updated.xlsx', '/data/uploads/', 'FILE_UPDATE', 1, 'system', CURRENT_TIMESTAMP);

INSERT INTO WORKFLOW_CONFIG_TASK_FILE (FILE_ID, TASK_ID, FILE_NAME, FILE_PATH, ACTION_TYPE, CONSOLIDATED_FLAG, CREATED_BY, CREATED_AT)
VALUES (3, 3, 'monthly_report_july.xlsx', '/data/consolidated/', 'CONSOLIDATE_FILES', 'Y', 'system', CURRENT_TIMESTAMP);

------------------------------------------------------------
-- CALENDARS
------------------------------------------------------------
INSERT INTO WORKFLOW_CALENDAR (CALENDAR_ID, CALENDAR_NAME, DESCRIPTION, START_DATE, END_DATE, RECURRENCE, CREATED_BY, CREATED_AT)
VALUES (1, 'US Business Days 2025', 'Standard US business calendar excluding holidays and weekends', '2025-01-01', '2025-12-31', 'YEARLY', 'system', CURRENT_TIMESTAMP);

INSERT INTO WORKFLOW_CALENDAR (CALENDAR_ID, CALENDAR_NAME, DESCRIPTION, START_DATE, END_DATE, RECURRENCE, CREATED_BY, CREATED_AT)
VALUES (2, 'Monthly Finance Calendar', 'Calendar for monthly finance workflows', '2025-01-01', '2025-12-31', 'MONTHLY', 'system', CURRENT_TIMESTAMP);

------------------------------------------------------------
-- CALENDAR DAYS (HOLIDAYS)
------------------------------------------------------------
INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (1, 1, '2025-01-01', 'HOLIDAY', 'New Year''s Day');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (2, 1, '2025-01-20', 'HOLIDAY', 'Martin Luther King Jr. Day');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (3, 1, '2025-02-17', 'HOLIDAY', 'Presidents'' Day');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (4, 1, '2025-05-26', 'HOLIDAY', 'Memorial Day');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (5, 1, '2025-07-04', 'HOLIDAY', 'Independence Day');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (6, 1, '2025-09-01', 'HOLIDAY', 'Labor Day');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (7, 1, '2025-10-13', 'HOLIDAY', 'Columbus Day');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (8, 1, '2025-11-11', 'HOLIDAY', 'Veterans Day');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (9, 1, '2025-11-27', 'HOLIDAY', 'Thanksgiving Day');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (10, 1, '2025-12-25', 'HOLIDAY', 'Christmas Day');

------------------------------------------------------------
-- CALENDAR DAYS (RUNDAYS - Monthly Finance)
------------------------------------------------------------
INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (11, 2, '2025-01-31', 'RUNDAY', 'January month-end');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (12, 2, '2025-02-28', 'RUNDAY', 'February month-end');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (13, 2, '2025-03-31', 'RUNDAY', 'March month-end');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (14, 2, '2025-04-30', 'RUNDAY', 'April month-end');

INSERT INTO WORKFLOW_CALENDAR_DAYS (CALENDAR_DAY_ID, CALENDAR_ID, DAY_DATE, DAY_TYPE, NOTE)
VALUES (15, 2, '2025-05-31', 'RUNDAY', 'May month-end');

INSERT INTO WORKFLOW_CONFIG_TASK_FILE (FILE_ID, TASK_ID, FILE_NAME, FILE_PATH, ACTION_TYPE, CREATED_BY, CREATED_AT)
VALUES (4, 4, 'monthly_report_july.xlsx', '/data/consolidated/', 'DECISION', 'system', CURRENT_TIMESTAMP);

-- Workflow 2
INSERT INTO WORKFLOW_CONFIG_TASK_FILE (FILE_ID, TASK_ID, FILE_NAME, FILE_PATH, ACTION_TYPE, CREATED_BY, CREATED_AT)
VALUES (5, 5, 'audit_q2.xlsx', '/audit/uploads/', 'FILE_UPLOAD', 'system', CURRENT_TIMESTAMP);

INSERT INTO WORKFLOW_CONFIG_TASK_FILE (FILE_ID, TASK_ID, FILE_NAME, FILE_PATH, ACTION_TYPE, PARENT_FILE_ID, CREATED_BY, CREATED_AT)
VALUES (6, 6, 'audit_q2_updated.xlsx', '/audit/uploads/', 'FILE_UPDATE', 5, 'system', CURRENT_TIMESTAMP);

INSERT INTO WORKFLOW_CONFIG_TASK_FILE (FILE_ID, TASK_ID, FILE_NAME, FILE_PATH, ACTION_TYPE, CREATED_BY, CREATED_AT)
VALUES (7, 7, 'audit_q2_final.xlsx', '/audit/consolidated/', 'DECISION', 'system', CURRENT_TIMESTAMP);

------------------------------------------------------------
-- TASK DECISION OUTCOMES
------------------------------------------------------------
-- Workflow 1
INSERT INTO TASK_DECISION_OUTCOME (OUTCOME_ID, TASK_ID, OUTCOME_NAME, NEXT_TASK_ID, PRIOR_TASK_ID, CREATED_BY, CREATED_AT)
VALUES (1, 4, 'Approved', NULL, 3, 'system', CURRENT_TIMESTAMP);

INSERT INTO TASK_DECISION_OUTCOME (OUTCOME_ID, TASK_ID, OUTCOME_NAME, NEXT_TASK_ID, PRIOR_TASK_ID, CREATED_BY, CREATED_AT)
VALUES (2, 4, 'Needs Rework', 2, 3, 'system', CURRENT_TIMESTAMP);

-- Workflow 2
INSERT INTO TASK_DECISION_OUTCOME (OUTCOME_ID, TASK_ID, OUTCOME_NAME, NEXT_TASK_ID, PRIOR_TASK_ID, CREATED_BY, CREATED_AT)
VALUES (3, 7, 'Approved', NULL, 6, 'system', CURRENT_TIMESTAMP);

INSERT INTO TASK_DECISION_OUTCOME (OUTCOME_ID, TASK_ID, OUTCOME_NAME, NEXT_TASK_ID, PRIOR_TASK_ID, CREATED_BY, CREATED_AT)
VALUES (4, 7, 'Rework Required', 6, 6, 'system', CURRENT_TIMESTAMP);

------------------------------------------------------------
-- EXECUTION INSTANCES
------------------------------------------------------------
-- Workflow 1 instance (with calendar)
INSERT INTO WORKFLOW_INSTANCE (INSTANCE_ID, WORKFLOW_ID, STATUS, STARTED_BY, STARTED_ON, CALENDAR_ID)
VALUES (1, 1, 'PENDING', 1, CURRENT_TIMESTAMP, 2);

-- Workflow 2 instance (with calendar)
INSERT INTO WORKFLOW_INSTANCE (INSTANCE_ID, WORKFLOW_ID, STATUS, STARTED_BY, STARTED_ON, CALENDAR_ID)
VALUES (2, 2, 'PENDING', 4, CURRENT_TIMESTAMP, 1);

------------------------------------------------------------
-- INSTANCE TASKS AND FILES
------------------------------------------------------------
-- Workflow 1 instance tasks
INSERT INTO WORKFLOW_INSTANCE_TASK (INSTANCE_TASK_ID, INSTANCE_ID, TASK_ID, STATUS, ASSIGNED_TO, STARTED_ON)
VALUES (1, 1, 1, 'PENDING', 1, CURRENT_TIMESTAMP);

INSERT INTO WORKFLOW_INSTANCE_TASK_FILE (INSTANCE_FILE_ID, INSTANCE_TASK_ID, FILE_NAME, FILE_PATH, ACTION_TYPE, CREATED_BY, CREATED_AT)
VALUES (1, 1, 'raw_july.xlsx', '/data/uploads/', 'FILE_UPLOAD', 'system', CURRENT_TIMESTAMP);

-- Workflow 2 instance tasks
INSERT INTO WORKFLOW_INSTANCE_TASK (INSTANCE_TASK_ID, INSTANCE_ID, TASK_ID, STATUS, ASSIGNED_TO, STARTED_ON)
VALUES (2, 2, 5, 'PENDING', 4, CURRENT_TIMESTAMP);

INSERT INTO WORKFLOW_INSTANCE_TASK_FILE (INSTANCE_FILE_ID, INSTANCE_TASK_ID, FILE_NAME, FILE_PATH, ACTION_TYPE, CREATED_BY, CREATED_AT)
VALUES (2, 2, 'audit_q2.xlsx', '/audit/uploads/', 'FILE_UPLOAD', 'system', CURRENT_TIMESTAMP);

------------------------------------------------------------
-- INSTANCE DECISION OUTCOMES
------------------------------------------------------------
-- Workflow 1
INSERT INTO TASK_INSTANCE_DECISION_OUTCOME (OUTCOME_ID, INSTANCE_TASK_ID, OUTCOME_NAME, NEXT_INSTANCE_TASK_ID, PRIOR_INSTANCE_TASK_ID, CREATED_BY, CREATED_AT)
VALUES (1, 4, 'Approved', NULL, 3, 'system', CURRENT_TIMESTAMP);

INSERT INTO TASK_INSTANCE_DECISION_OUTCOME (OUTCOME_ID, INSTANCE_TASK_ID, OUTCOME_NAME, NEXT_INSTANCE_TASK_ID, PRIOR_INSTANCE_TASK_ID, CREATED_BY, CREATED_AT)
VALUES (2, 4, 'Needs Rework', 2, 3, 'system', CURRENT_TIMESTAMP);

-- Workflow 2
INSERT INTO TASK_INSTANCE_DECISION_OUTCOME (OUTCOME_ID, INSTANCE_TASK_ID, OUTCOME_NAME, NEXT_INSTANCE_TASK_ID, PRIOR_INSTANCE_TASK_ID, CREATED_BY, CREATED_AT)
VALUES (3, 7, 'Approved', NULL, 6, 'system', CURRENT_TIMESTAMP);

INSERT INTO TASK_INSTANCE_DECISION_OUTCOME (OUTCOME_ID, INSTANCE_TASK_ID, OUTCOME_NAME, NEXT_INSTANCE_TASK_ID, PRIOR_INSTANCE_TASK_ID, CREATED_BY, CREATED_AT)
VALUES (4, 7, 'Rework Required', 6, 6, 'system', CURRENT_TIMESTAMP);
